(this["webpackJsonpamt-tiltaksarrangor-flate"]=this["webpackJsonpamt-tiltaksarrangor-flate"]||[]).push([[0],{105:function(t,e,n){},1688:function(t,e,n){"use strict";n.r(e);n(104),n(105);var r=n(28),a=n.n(r),i=n(0),c=n.n(i),o=n(90),l=n.n(o),s=n(8),u=n(38),d=n(13),b=n(10),j=n.n(b),k=n(25),f=n(91),h=n.n(f).a.create({withCredentials:!0,headers:{"Nav-Consumer-Id":"amt-tiltaksarrangor-flate"}});var O,x=n(34),p=n.n(x),m=n(92),g=n.n(m),S=n(93),_=n.n(S),v=n(1),N=function(){return Object(v.jsx)("div",{className:_.a.spinner,children:Object(v.jsx)(g.a,{type:"XL"})})},T=n(57),E=n.n(T),A=n(33),I=n(15),C=n(11),L=function(t,e){return"".concat(e,", ").concat(t)},D=function(t,e){return"".concat(t," ").concat(e)},y=function(t){return a()(t).format("DD. MMM YYYY")},K=function(t){return t?a()(t).format("YYYY-MM-DD"):""},F=function(t){return a()(t,"YYYY-MM-DD").toDate()},P=n(18),M=function(t){switch(t){case P.a.GJENNOMFORES:return"Gjennomf\xf8res";case P.a.NY_BRUKER:return"Ny Bruker";case P.a.PAMELDT:return"P\xe5meldt";default:return t}},R=function(t){switch(t){case P.b.AVKLARING:return"Avklaring";case P.b.GRUPPE_AMO:return"Gruppe AMO";case P.b.JOBBSOKERKURS:return"Jobbs\xf8kerkurs";case P.b.OPPFOLGING:return"Oppf\xf8lging";default:return t}},G=n(37),w=n.n(G),B=function(t){var e=t.tittel,n=t.children;return Object(v.jsxs)("div",{children:[Object(v.jsx)(C.Ingress,{className:w.a.textBold,children:e}),n]})},U=function(t){var e=t.bruker,n=e.tiltak,r=e.navEnhet,a=e.navVeileder,c=e.kontaktinfo,o=e.fornavn,l=e.etternavn,u=Object(i.useState)(K(n.startdato)),d=Object(s.a)(u,2),b=d[0],j=d[1],k=Object(i.useState)(K(n.sluttdato)),f=Object(s.a)(k,2),O=f[0],x=f[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(C.Sidetittel,{className:p.a.blokkM,children:D(o,l)}),Object(v.jsxs)("div",{className:w.a.userInfoContent,children:[Object(v.jsxs)(B,{tittel:"Kontaktinformasjon",children:[Object(v.jsxs)(C.Normaltekst,{children:["Telefon: ",c.telefonnummer]}),Object(v.jsxs)(C.Normaltekst,{children:["Email: ",c.email]})]}),Object(v.jsx)(B,{tittel:"Status",children:Object(v.jsx)(C.Normaltekst,{children:M(n.status)})}),Object(v.jsxs)(B,{tittel:"Periode for gjennomf\xf8ring",children:[Object(v.jsxs)("div",{className:w.a.periodeInputWrapper,children:[Object(v.jsx)(I.Input,{label:"Start",type:"date",value:b,onChange:function(t){return j(t.target.value)}}),Object(v.jsx)(A.Knapp,{className:w.a.periodeKnapp,onClick:function(){b&&function(t,e){var n={startdato:e.toISOString()};h.put("/amt-tiltak/api/tiltak/".concat(t,"/startdato"),n)}(n.id,F(b))},disabled:!b,children:"Lagre"})]}),Object(v.jsxs)("div",{className:w.a.periodeInputWrapper,children:[Object(v.jsx)(I.Input,{label:"Slutt",type:"date",value:O,onChange:function(t){return x(t.target.value)}}),Object(v.jsx)(A.Knapp,{className:w.a.periodeKnapp,onClick:function(){O&&function(t,e){var n={sluttdato:e.toISOString()};h.put("/amt-tiltak/api/tiltak/".concat(t,"/sluttdato"),n)}(n.id,F(O))},disabled:!O,children:"Lagre"})]})]}),Object(v.jsx)(B,{tittel:"NAV-kontor",children:Object(v.jsx)(C.Normaltekst,{children:r.enhetNavn})}),Object(v.jsxs)(B,{tittel:"Veileder",children:[Object(v.jsxs)(C.Normaltekst,{children:["Navn: ",null===a||void 0===a?void 0:a.navn]}),Object(v.jsxs)(C.Normaltekst,{children:["Email: ",null===a||void 0===a?void 0:a.email]}),Object(v.jsxs)(C.Normaltekst,{children:["Telefonnummer: ",null===a||void 0===a?void 0:a.telefonnummer]})]}),Object(v.jsx)(B,{tittel:"Tiltak",children:Object(v.jsxs)(C.Normaltekst,{children:["Type: ",R(n.type)]})}),Object(v.jsx)(B,{tittel:"Beskrivelse"})]})]})},Y=function(){var t=Object(d.f)().brukerId,e=Object(i.useState)(),n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)(!1),o=Object(s.a)(c,2),l=o[0],b=o[1];return Object(i.useEffect)((function(){(function(t){return h.get("/amt-tiltak/api/bruker/".concat(t))})(t).then((function(t){return a(t.data)})).catch((function(){return b(!0)}))}),[t]),Object(v.jsxs)("main",{className:E.a.userInfoPage,children:[Object(v.jsx)(u.b,{to:"/",className:j()(E.a.tilbakeLenke,p.a.blokkM),children:"Tilbake"}),r?Object(v.jsx)(U,{bruker:r}):l?Object(v.jsx)(k.AlertStripeFeil,{children:"En feil oppstod"}):Object(v.jsx)(N,{})]})},V=n(31),J=n(95),z=Object(J.a)((function(){var t=Object(i.useState)(""),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)([]),c=Object(s.a)(a,2),o=c[0],l=c[1],u=Object(i.useState)(),d=Object(s.a)(u,2);return{navnFnrSok:n,setNavnFnrSok:r,tiltakStatusFilter:o,leggTilTiltakStatus:function(t){l((function(e){return e.includes(t)?e:[].concat(Object(V.a)(e),[t])}))},fjernFraTiltakStatus:function(t){l((function(e){return e.filter((function(e){return e!==t}))}))},brukerSortering:d[0],setBrukerSortering:d[1]}})),W=Object(s.a)(z,2),Q=W[0],X=W[1],Z=function(t){return t.if?t.children:null},q=n(1691),H=n(96),$=n.n(H);!function(t){t.NAVN="NAVN",t.FODSELSDATO="FODSELSDATO",t.TILTAKSTYPE="TILTAKSTYPE",t.TILTAK="TILTAK",t.STATUS="STATUS",t.START="START",t.SLUTT="SLUTT"}(O||(O={}));var tt,et=function(t,e){if(e&&t===e.kolonnenavn)return"tabell__td--sortert"},nt=function(t){var e=t.bruker,n=e.fodselsdato,r=e.fornavn,a=e.etternavn,i=e.tiltak,c=e.id,o=t.brukerSortering;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:et(O.NAVN,o),children:L(r,a)}),Object(v.jsx)("td",{className:et(O.FODSELSDATO,o),children:n}),Object(v.jsx)("td",{className:et(O.TILTAKSTYPE,o),children:R(i.type)}),Object(v.jsx)("td",{className:et(O.TILTAK,o),children:i.navn}),Object(v.jsx)("td",{className:et(O.STATUS,o),children:M(i.status)}),Object(v.jsx)("td",{className:et(O.START,o),children:i.startdato&&y(i.startdato)}),Object(v.jsx)("td",{className:et(O.SLUTT,o),children:i.sluttdato&&y(i.sluttdato)}),Object(v.jsx)("td",{children:Object(v.jsx)(u.b,{to:"/user/".concat(c),children:Object(v.jsx)(q.a,{className:$.a.personIcon})})})]})},rt=function(t){return Object(v.jsx)("tbody",{children:t.brukere.map((function(e,n){return Object(v.jsx)(nt,{idx:n,bruker:e,brukerSortering:t.sortering},n)}))})};!function(t){t.ASCENDING="ascending",t.DESCENDING="descending",t.NONE="none"}(tt||(tt={}));var at=function(t){switch(t){case tt.ASCENDING:return"tabell__th--sortert-asc";case tt.DESCENDING:return"tabell__th--sortert-desc";default:return""}},it=function(t){var e=t.title,n=t.name,r=t.sortering,a=t.onSortChange,i=n===(null===r||void 0===r?void 0:r.kolonnenavn)?r.sorteringType:tt.NONE,c=function(t){switch(t){case tt.ASCENDING:return tt.DESCENDING;case tt.DESCENDING:return tt.NONE;default:return tt.ASCENDING}}(i),o="Sorter ".concat(e," ").concat(function(t){switch(t){case tt.ASCENDING:return"stigende";case tt.DESCENDING:return"synkende";default:return""}}(c));return Object(v.jsx)("th",{role:"columnheader",className:at(i),"aria-sort":i,children:Object(v.jsx)("button",{"aria-label":o,onClick:function(){return a({sorteringType:c,kolonnenavn:n})},children:e})})},ct=function(t){var e=t.sortering,n=t.onSortChange;return Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Etternavn, Fornavn",name:O.NAVN}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"F\xf8dselsdato",name:O.FODSELSDATO}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Tiltakstype",name:O.TILTAKSTYPE}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Tiltak",name:O.TILTAK}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Status",name:O.STATUS}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Start",name:O.START}),Object(v.jsx)(it,{sortering:e,onSortChange:n,title:"Slutt",name:O.SLUTT}),Object(v.jsx)("th",{})]})})},ot=n(97),lt=n.n(ot),st=(n(189),function(t){var e=X(),n=e.brukerSortering,r=e.setBrukerSortering,a=e.tiltakStatusFilter,c=e.navnFnrSok,o=function(){return e=t.brukere,n=a,r=c,e.filter((function(t){return function(t,e){if(!e||0===e.trim().length)return!0;var n=t.fornavn.toLowerCase().includes(e.toLowerCase()),r=t.etternavn.toLowerCase().includes(e.toLowerCase());return n||r}(t,r)})).filter((function(t){return function(t,e){return 0===t.length||t.includes(e)}(n,t.tiltak.status)}));var e,n,r},l=Object(i.useState)(o),u=Object(s.a)(l,2),d=u[0],b=u[1],j=0===d.length;Object(i.useEffect)((function(){b(o())}),[t.brukere,a,c]);var f=function(){return Object(v.jsx)(k.AlertStripeInfo,{className:lt.a.ingenBrukere,children:Object(v.jsx)("span",{role:"alert","aria-live":"polite",children:"Fant ingen brukere"})})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("table",{className:"tabell tabell--stripet",children:[Object(v.jsx)(ct,{sortering:n,onSortChange:function(t){return r(t)}}),Object(v.jsx)(Z,{if:!t.isLoading&&!j,children:Object(v.jsx)(rt,{brukere:d,sortering:n})})]}),Object(v.jsx)(Z,{if:!t.isLoading&&j,children:Object(v.jsx)(f,{})}),Object(v.jsx)(Z,{if:t.isLoading,children:Object(v.jsx)(N,{})})]})}),ut=n(98),dt=n.n(ut),bt=function(){var t=X(),e=t.navnFnrSok,n=t.setNavnFnrSok,r=t.tiltakStatusFilter,a=t.leggTilTiltakStatus,i=t.fjernFraTiltakStatus;return Object(v.jsxs)("div",{children:[Object(v.jsx)(I.Input,{placeholder:"S\xf8k etter navn eller fnr",className:p.a.blokkM,value:e,onChange:function(t){return n(t.target.value)}}),Object(v.jsx)(dt.a,{tittel:"Status",className:p.a.blokkM,apen:!0,children:Object(v.jsx)(I.CheckboxGruppe,{children:Object.values(P.a).map((function(t){return Object(v.jsx)(I.Checkbox,{label:M(t),name:"filter-tiltakstatus",checked:r.includes(t),onChange:function(e){e.target.checked?a(t):i(t)}},t)}))})})]})},jt=n(99),kt=n.n(jt),ft=function(){var t=X(),e=t.tiltakStatusFilter,n=t.navnFnrSok,r=t.brukerSortering,a=Object(i.useState)([]),c=Object(s.a)(a,2),o=c[0],l=c[1],u=Object(i.useState)(!1),d=Object(s.a)(u,2),b=d[0],j=d[1];return Object(i.useEffect)((function(){j(!0),h.get("/amt-tiltak/api/brukere").then((function(t){return l(t.data)})).catch(console.error).finally((function(){return j(!1)}))}),[e,n,n,r]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("main",{className:kt.a.tiltaksoversiktPage,children:[Object(v.jsx)(bt,{}),Object(v.jsx)(st,{brukere:o,isLoading:b})]})})},ht=function(t){return Object(v.jsx)(Q,{children:t.children})},Ot=n(60),xt=n.n(Ot),pt=function(){var t=window.location.href,e="/auth-proxy/oauth2/login?redirect_uri=".concat(t);return Object(v.jsxs)("main",{className:xt.a.loginPage,children:[Object(v.jsx)(C.Systemtittel,{className:j()("blokk-xl",xt.a.title),children:"Hei koordinator hos tiltaksarrang\xf8r!"}),Object(v.jsx)(k.AlertStripeAdvarsel,{className:"blokk-xl",children:"Dette er en f\xf8rste l\xf8sning til pilot. Kun de som har avtalt med Team KOMET og har riktig innstilling gjennom Altinn vil kunne f\xe5 tilgang til tjenesten."}),Object(v.jsx)("a",{className:"knapp knapp--hoved",href:e,children:"Logg inn"})]})},mt=function(){var t=Object(i.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)(!0),c=Object(s.a)(a,2),o=c[0],l=c[1];return Object(i.useEffect)((function(){h.get("/auth-proxy/is-authenticated").then((function(t){return r(t.data.isAuthenticated)})).catch((function(){return r(!1)})).finally((function(){return l(!1)}))}),[]),o?Object(v.jsx)(N,{}):n?Object(v.jsx)(ht,{children:Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{path:"/user/:brukerId",children:Object(v.jsx)(Y,{})}),Object(v.jsx)(d.a,{path:"/",children:Object(v.jsx)(ft,{})})]})})}):Object(v.jsx)(pt,{})},gt=n(24),St=n(27),_t=new(function(){function t(){Object(gt.a)(this,t)}return Object(St.a)(t,[{key:"isProduction",get:function(){return!this.isDevelopment}},{key:"isDevelopment",get:function(){return!0}}]),t}());a.a.locale("nb"),_t.isDevelopment&&n(1689),l.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(mt,{})}),document.getElementById("root"))},1689:function(t,e,n){"use strict";n.r(e);var r=n(26),a=n(100),i=n(19),c=n.n(i),o=n(18);c.a.locale="nb_NO",c.a.seed(486756783);var l=[{enhetId:"0219",enhetNavn:"NAV B\xe6rum"},{enhetId:"0425",enhetNavn:"NAV \xc5snes"},{enhetId:"1500",enhetNavn:"NAV M\xf8re og Romsdal"},{enhetId:"0104",enhetNavn:"NAV Moss"}],s=function(t,e){return c.a.datatype.number({min:t,max:e})},u=function(){var t=s(1,31),e=s(1,12),n=s(0,99),r=s(0,99).toString().padStart(2,"0"),a=c.a.datatype.boolean()?4:1,i="".concat(r).concat(a),o="".concat(s(0,9)).concat(s(0,9));return"".concat(t.toString().padStart(2,"0")).concat(e.toString().padStart(2,"0")).concat(n.toString().padStart(2,"0")).concat(i).concat(o)},d=function(t){if(t===o.a.PAMELDT||t===o.a.GJENNOMFORES)return c.a.date.recent().toISOString()},b=function(t,e){var n=t.replaceAll(" ",".").replaceAll("\xe6","ae").replaceAll("\xf8","o").replaceAll("\xe5","a").toLowerCase();return"".concat(n,"@").concat(e)},j=function(t){return{id:t.id,fornavn:t.fornavn,etternavn:t.etternavn,fodselsdato:t.fodselsdato,tiltak:t.tiltak}},k=function(t){for(var e=[],n=0;n<t;n++){var r=c.a.random.objectElement(o.a),a=c.a.name.firstName(),i=c.a.name.lastName(),j=c.a.name.firstName()+" "+c.a.name.lastName(),k={id:s(1e3,1e6).toString(),fornavn:a,etternavn:i,fodselsdato:u().substring(0,6),tiltak:{id:s(1e3,1e6).toString(),status:r,type:c.a.random.objectElement(o.b),startdato:d(r),sluttdato:void 0,navn:"Noe tekst"},kontaktinfo:{email:b("".concat(a," ").concat(i),"example.com"),telefonnummer:c.a.phone.phoneNumber()},navEnhet:c.a.random.arrayElement(l),navVeileder:{navn:j,email:b(j,"nav.no"),telefonnummer:c.a.phone.phoneNumber()}};e.push(k)}return e}(55),f=[r.c.get("/auth-proxy/is-authenticated",(function(t,e,n){return e(n.delay(500),n.json({isAuthenticated:!0}))})),r.c.get("/amt-tiltak/api/brukere",(function(t,e,n){var r=k.map(j);return e(n.delay(500),n.json(r))})),r.c.get("/amt-tiltak/api/bruker/:brukerId",(function(t,e,n){var r=t.params.brukerId,a=k.find((function(t){return t.id===r}));return e(n.delay(500),n.json(a))})),r.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/startdato",(function(t,e,n){var r=t.body,a=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===a}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(a));return i.tiltak.startdato=r.startdato,e(n.delay(500),n.json(i.tiltak))})),r.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/sluttdato",(function(t,e,n){var r=t.body,a=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===a}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(a));return i.tiltak.sluttdato=r.sluttdato,e(n.delay(500),n.json(i.tiltak))}))];a.a.apply(void 0,f).start({serviceWorker:{url:"/amt-tiltaksarrangor-flate/mockServiceWorker.js"}}).catch((function(t){console.error("Unable to setup mocked API endpoints",t)}))},18:function(t,e,n){"use strict";var r,a;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),function(t){t.JOBBSOKERKURS="JOBBSOKERKURS",t.AVKLARING="AVKLARING",t.GRUPPE_AMO="GRUPPE_AMO",t.OPPFOLGING="OPPFOLGING"}(r||(r={})),function(t){t.NY_BRUKER="NY_BRUKER",t.PAMELDT="PAMELDT",t.GJENNOMFORES="GJENNOMFORES"}(a||(a={}))},34:function(t,e,n){t.exports={clearfix:"clearfix__3UCmH","center-block":"center-block__qRhQr","pull-right":"pull-right__uoRiB","pull-left":"pull-left__3Sk0z",hide:"hide__3yk1z",show:"show__25QKn",hidden:"hidden__1vXM7",invisible:"invisible__1E0VC","text-hide":"text-hide__159n6",ustilet:"ustilet__M_vEf",blokk:"blokk__1sum3","blokk-null":"blokk-null__1kE01","blokk-xxxs":"blokk-xxxs__zdZmh","blokk-xxs":"blokk-xxs__3wMg6","blokk-xs":"blokk-xs__PjJ8i","blokk-s":"blokk-s__3mZX8","blokk-m":"blokk-m__1ll-c","blokk-l":"blokk-l__3QslZ","blokk-xl":"blokk-xl__3pfFf",blokkM:"blokkM__C-cKc"}},37:function(t,e,n){t.exports={clearfix:"clearfix__gNfUK","center-block":"center-block__29b77","pull-right":"pull-right__1_ahA","pull-left":"pull-left__1Jt2h",hide:"hide__3_Fyb",show:"show__uq-yK",hidden:"hidden__3C43V",invisible:"invisible__3Mk-s","text-hide":"text-hide__2TFPd",ustilet:"ustilet__3onBT",blokk:"blokk__cRVpl","blokk-null":"blokk-null__y5Xlc","blokk-xxxs":"blokk-xxxs__2duqe","blokk-xxs":"blokk-xxs__3xWzh","blokk-xs":"blokk-xs__1xorx","blokk-s":"blokk-s__1E4oK","blokk-m":"blokk-m__31Vvh","blokk-l":"blokk-l__I6QuF","blokk-xl":"blokk-xl__1AMaw",textBold:"textBold__3aBKa",userInfoContent:"userInfoContent__3Csxl",periodeInputWrapper:"periodeInputWrapper__3DpCu",periodeKnapp:"periodeKnapp__1wsHg"}},57:function(t,e,n){t.exports={userInfoPage:"userInfoPage__NknKL",tilbakeLenke:"tilbakeLenke__3zCLu"}},60:function(t,e,n){t.exports={loginPage:"loginPage__28CzY",title:"title__3MnEd"}},93:function(t,e,n){t.exports={spinner:"spinner__3ZKPX"}},96:function(t,e,n){t.exports={personIcon:"personIcon__1Ez3d"}},97:function(t,e,n){t.exports={ingenBrukere:"ingenBrukere__5QNAx"}},99:function(t,e,n){t.exports={tiltaksoversiktPage:"tiltaksoversiktPage__25sfw"}}},[[1688,1,2]]]);
//# sourceMappingURL=main.241d1608.chunk.js.map