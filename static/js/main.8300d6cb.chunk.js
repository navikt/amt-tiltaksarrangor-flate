(this["webpackJsonpamt-tiltaksarrangor-flate"]=this["webpackJsonpamt-tiltaksarrangor-flate"]||[]).push([[0],{110:function(t,e,n){},143:function(t,e,n){},149:function(t,e,n){},1697:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(93),c=n.n(i),l=(n(110),n(9)),s=n(0),o=function(){return Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Etternavn, Fornavn"}),Object(s.jsx)("th",{children:"F\xf8dselsdato"}),Object(s.jsx)("th",{children:"Tiltakstype"}),Object(s.jsx)("th",{children:"Tiltak"}),Object(s.jsx)("th",{children:"Status"}),Object(s.jsx)("th",{children:"Start"}),Object(s.jsx)("th",{children:"Slutt"}),Object(s.jsx)("th",{})]})})},u=n(28),d=function(t,e){return"".concat(e,", ").concat(t)},j=function(t,e){return"".concat(t," ").concat(e)},b=n(18),k=function(t){switch(t){case b.a.GJENNOMFORES:return"Gjennomf\xf8res";case b.a.NY_BRUKER:return"Ny Bruker";case b.a.PAMELDT:return"P\xe5meldt";default:return t}},f=function(t){switch(t){case b.b.AVKLARING:return"Avklaring";case b.b.GRUPPE_AMO:return"Gruppe AMO";case b.b.JOBBSOKERKURS:return"Jobbs\xf8kerkurs";case b.b.OPPFOLGING:return"Oppf\xf8lging";default:return t}},O=n(1700),h=n(38),p=n(94),x=n.n(p),m=n(34),v=n.n(m),g=function(t){return v()(t).format("DD. MMM YYYY")},_=function(t){return t?v()(t).format("YYYY-MM-DD"):""},N=function(t){return v()(t,"YYYY-MM-DD").toDate()},S=function(t){var e=t.bruker,n=e.fodselsdato,a=e.fornavn,r=e.etternavn,i=e.tiltak,c=e.id;return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:d(a,r)}),Object(s.jsx)("td",{children:n}),Object(s.jsx)("td",{children:f(i.type)}),Object(s.jsx)("td",{children:i.navn}),Object(s.jsx)("td",{children:k(i.status)}),Object(s.jsx)("td",{children:i.startdato&&g(i.startdato)}),Object(s.jsx)("td",{children:i.sluttdato&&g(i.sluttdato)}),Object(s.jsx)("td",{children:Object(s.jsx)(h.b,{to:"/user/".concat(c),children:Object(s.jsx)(O.a,{className:x.a.personIcon})})})]})},I=function(t){return Object(s.jsx)("tbody",{children:t.brukere.map((function(t,e){return Object(s.jsx)(S,{idx:e,bruker:t},e)}))})},y=n(96),T=n.n(y),E=(n(140),function(t){return t.if?t.children:null}),A=n(97),B=n.n(A),C=(n(143),function(){return Object(s.jsx)("div",{className:"app-spinner",children:Object(s.jsx)(B.a,{type:"XL"})})}),F=function(t){var e=0===t.brukere.length,n=function(){return Object(s.jsx)(u.AlertStripeInfo,{className:T.a.ingenBrukere,children:Object(s.jsx)("span",{role:"alert","aria-live":"polite",children:"Fant ingen brukere"})})};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("table",{className:"tabell tabell--stripet",children:[Object(s.jsx)(o,{}),Object(s.jsx)(E,{if:!t.isLoading&&!e,children:Object(s.jsx)(I,{brukere:t.brukere})})]}),Object(s.jsx)(E,{if:!t.isLoading&&e,children:Object(s.jsx)(n,{})}),Object(s.jsx)(E,{if:t.isLoading,children:Object(s.jsx)(C,{})})]})},P=n(32),L=(n(149),n(11)),M=n(60),R=n.n(M),G=n(61),K=n(104),V=n(10),U=n.n(V),w=function(t){var e=t.className,n=(t.children,Object(K.a)(t,["className","children"]));return Object(s.jsx)("button",Object(G.a)(Object(G.a)({className:U()(e,"paginering__knapp")},n),{},{children:t.children}))},D=function(t){var e=25,n=1,a=4,r=1===n,i=n>=a,c=(n-1)*e+1,l=(n-1)*e+t.totalUsers;return Object(s.jsxs)("div",{className:R.a.paginationBar,children:[Object(s.jsxs)(L.Element,{"aria-live":"polite",children:["Viser ",c,"-",l," av totalt ",t.totalUsers," brukere"]}),Object(s.jsxs)("div",{className:R.a.paginering,children:[Object(s.jsx)(w,{"aria-label":"Forrige side",disabled:r,onClick:function(){},children:Object(s.jsx)(P.VenstreChevron,{})}),Object(s.jsx)(E,{if:!r,children:Object(s.jsx)(w,{"aria-label":"F\xf8rste side",onClick:function(){},children:"1"})}),Object(s.jsx)(w,{"aria-live":"polite","aria-label":"Valgt side",children:Object(s.jsx)("strong",{children:n})}),Object(s.jsx)(E,{if:!i,children:Object(s.jsx)(w,{"aria-label":"Siste side",onClick:function(){},children:a})}),Object(s.jsx)(w,{"aria-label":"Neste side",disabled:i,onClick:function(){},children:Object(s.jsx)(P.HoyreChevron,{})})]})]})},Y=n(98),J=n.n(Y),W=function(){return Object(s.jsx)("header",{className:J.a.header,children:Object(s.jsx)(L.Sidetittel,{children:"Tiltaksoversikt"})})},z=n(99),Q=n.n(z),H=n(14),X=n(62),q=n.n(X),Z=n(27),$=n(100),tt=Object($.a)((function(){var t=Object(a.useState)(""),e=Object(l.a)(t,2),n=e[0],r=e[1],i=Object(a.useState)([]),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),j=d[0],b=d[1];return{navnFnrSok:n,setNavnFnrSok:r,tiltakTyper:s,leggTilTiltakType:function(t){o((function(e){return e.includes(t)?e:[].concat(Object(Z.a)(e),[t])}))},fjernTilTiltakType:function(t){o((function(e){return e.filter((function(e){return e!==t}))}))},tiltakStatuser:j,leggTilTiltakStatus:function(t){b((function(e){return e.includes(t)?e:[].concat(Object(Z.a)(e),[t])}))},fjernTilTiltakStatus:function(t){b((function(e){return e.filter((function(e){return e!==t}))}))}}})),et=Object(l.a)(tt,2),nt=et[0],at=et[1],rt=function(){var t=at(),e=t.navnFnrSok,n=t.setNavnFnrSok,a=t.tiltakStatuser,r=t.leggTilTiltakStatus,i=t.fjernTilTiltakStatus,c=t.tiltakTyper,l=t.leggTilTiltakType,o=t.fjernTilTiltakType;return Object(s.jsxs)("div",{children:[Object(s.jsx)(H.Input,{placeholder:"S\xf8k etter navn eller fnr",className:"blokk-m",value:e,onChange:function(t){return n(t.target.value)}}),Object(s.jsx)(q.a,{tittel:"Tiltakstype",className:"blokk-m",apen:!0,children:Object(s.jsx)(H.CheckboxGruppe,{children:Object.values(b.b).map((function(t){return Object(s.jsx)(H.Checkbox,{label:f(t),name:"filter-tiltakstype",checked:c.includes(t),onChange:function(e){e.target.checked?l(t):o(t)}},t)}))})}),Object(s.jsx)(q.a,{tittel:"Status",className:"blokk-m",apen:!0,children:Object(s.jsx)(H.CheckboxGruppe,{children:Object.values(b.a).map((function(t){return Object(s.jsx)(H.Checkbox,{label:k(t),name:"filter-tiltakstatus",checked:a.includes(t),onChange:function(e){e.target.checked?r(t):i(t)}},t)}))})})]})},it=n(101),ct=n.n(it).a.create({withCredentials:!0,headers:{"Nav-Consumer-Id":"amt-tiltaksarrangor-flate"}});var lt=function(){var t=at(),e=t.tiltakTyper,n=t.tiltakStatuser,r=t.navnFnrSok,i=Object(a.useState)([]),c=Object(l.a)(i,2),o=c[0],u=c[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),b=j[0],k=j[1];return Object(a.useEffect)((function(){var t;k(!0),(t={filter:{navnFnrSok:r,tiltakTyper:e,tiltakStatuser:n}},ct.post("/amt-tiltak/api/bruker/sok",t)).then((function(t){return u(t.data)})).catch(console.error).finally((function(){return k(!1)}))}),[e,n,r]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(W,{}),Object(s.jsxs)("main",{className:Q.a.tiltaksoversiktPage,children:[Object(s.jsx)(rt,{}),Object(s.jsxs)("div",{children:[Object(s.jsx)(D,{totalUsers:o.length}),Object(s.jsx)(F,{brukere:o,isLoading:b})]})]})]})},st=function(t){return Object(s.jsx)(nt,{children:t.children})},ot=n(13),ut=n(33),dt=n(37),jt=n.n(dt),bt=function(t){var e=t.tittel,n=t.children;return Object(s.jsxs)("div",{children:[Object(s.jsx)(L.Ingress,{className:jt.a.textBold,children:e}),n]})},kt=function(t){var e=t.bruker,n=e.tiltak,r=e.navEnhet,i=e.navVeileder,c=e.kontaktinfo,o=e.fornavn,u=e.etternavn,d=Object(a.useState)(_(n.startdato)),b=Object(l.a)(d,2),O=b[0],h=b[1],p=Object(a.useState)(_(n.sluttdato)),x=Object(l.a)(p,2),m=x[0],v=x[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(L.Sidetittel,{className:"blokk-m",children:j(o,u)}),Object(s.jsxs)("div",{className:jt.a.userInfoContent,children:[Object(s.jsxs)(bt,{tittel:"Kontaktinformasjon",children:[Object(s.jsxs)(L.Normaltekst,{children:["Telefon: ",c.telefonnummer]}),Object(s.jsxs)(L.Normaltekst,{children:["Email: ",c.email]})]}),Object(s.jsx)(bt,{tittel:"Status",children:Object(s.jsx)(L.Normaltekst,{children:k(n.status)})}),Object(s.jsxs)(bt,{tittel:"Periode for gjennomf\xf8ring",children:[Object(s.jsxs)("div",{className:jt.a.periodeInputWrapper,children:[Object(s.jsx)(H.Input,{label:"Start",type:"date",value:O,onChange:function(t){return h(t.target.value)}}),Object(s.jsx)(ut.Knapp,{className:jt.a.periodeKnapp,onClick:function(){O&&function(t,e){var n={startdato:e.toISOString()};ct.put("/amt-tiltak/api/tiltak/".concat(t,"/startdato"),n)}(n.id,N(O))},disabled:!O,children:"Lagre"})]}),Object(s.jsxs)("div",{className:jt.a.periodeInputWrapper,children:[Object(s.jsx)(H.Input,{label:"Slutt",type:"date",value:m,onChange:function(t){return v(t.target.value)}}),Object(s.jsx)(ut.Knapp,{className:jt.a.periodeKnapp,onClick:function(){m&&function(t,e){var n={sluttdato:e.toISOString()};ct.put("/amt-tiltak/api/tiltak/".concat(t,"/sluttdato"),n)}(n.id,N(m))},disabled:!m,children:"Lagre"})]})]}),Object(s.jsx)(bt,{tittel:"NAV-kontor",children:Object(s.jsx)(L.Normaltekst,{children:r.enhetNavn})}),Object(s.jsxs)(bt,{tittel:"Veileder",children:[Object(s.jsxs)(L.Normaltekst,{children:["Navn: ",null===i||void 0===i?void 0:i.navn]}),Object(s.jsxs)(L.Normaltekst,{children:["Email: ",null===i||void 0===i?void 0:i.email]}),Object(s.jsxs)(L.Normaltekst,{children:["Telefonnummer: ",null===i||void 0===i?void 0:i.telefonnummer]})]}),Object(s.jsx)(bt,{tittel:"Tiltak",children:Object(s.jsxs)(L.Normaltekst,{children:["Type: ",f(n.type)]})}),Object(s.jsx)(bt,{tittel:"Beskrivelse"})]})]})},ft=n(63),Ot=n.n(ft),ht=function(){var t=Object(ot.f)().brukerId,e=Object(a.useState)(),n=Object(l.a)(e,2),r=n[0],i=n[1],c=Object(a.useState)(!1),o=Object(l.a)(c,2),d=o[0],j=o[1];return Object(a.useEffect)((function(){(function(t){return ct.get("/amt-tiltak/api/bruker/".concat(t))})(t).then((function(t){return i(t.data)})).catch((function(){return j(!0)}))}),[t]),Object(s.jsxs)("main",{className:Ot.a.userInfoPage,children:[Object(s.jsx)(h.b,{to:"/",className:U()(Ot.a.tilbakeLenke,"blokk-m"),children:"Tilbake"}),r?Object(s.jsx)(kt,{bruker:r}):d?Object(s.jsx)(u.AlertStripeFeil,{children:"En feil oppstod"}):Object(s.jsx)(C,{})]})},pt=function(){return Object(s.jsxs)(st,{children:[Object(s.jsx)(h.a,{children:Object(s.jsxs)(ot.c,{children:[Object(s.jsx)(ot.a,{path:"/user/:brukerId",children:Object(s.jsx)(ht,{})}),Object(s.jsx)(ot.a,{path:"/",children:Object(s.jsx)(lt,{})})]})}),"  "]})},xt=n(24),mt=n(26),vt=new(function(){function t(){Object(xt.a)(this,t)}return Object(mt.a)(t,[{key:"isProduction",get:function(){return!this.isDevelopment}},{key:"isDevelopment",get:function(){return!0}}]),t}());n(200);v.a.locale("nb"),vt.isDevelopment&&n(1698),c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(pt,{})}),document.getElementById("root"))},1698:function(t,e,n){"use strict";n.r(e);var a=n(25),r=n(102),i=n(19),c=n.n(i),l=n(18);c.a.locale="nb_NO",c.a.seed(486756783);var s=[{enhetId:"0219",enhetNavn:"NAV B\xe6rum"},{enhetId:"0425",enhetNavn:"NAV \xc5snes"},{enhetId:"1500",enhetNavn:"NAV M\xf8re og Romsdal"},{enhetId:"0104",enhetNavn:"NAV Moss"}],o=function(t,e){return c.a.datatype.number({min:t,max:e})},u=function(){var t=o(1,31),e=o(1,12),n=o(0,99),a=o(0,99).toString().padStart(2,"0"),r=c.a.datatype.boolean()?4:1,i="".concat(a).concat(r),l="".concat(o(0,9)).concat(o(0,9));return"".concat(t.toString().padStart(2,"0")).concat(e.toString().padStart(2,"0")).concat(n.toString().padStart(2,"0")).concat(i).concat(l)},d=function(t){if(t===l.a.PAMELDT||t===l.a.GJENNOMFORES)return c.a.date.recent().toISOString()},j=function(t,e){var n=t.replaceAll(" ",".").replaceAll("\xe6","ae").replaceAll("\xf8","o").replaceAll("\xe5","a").toLowerCase();return"".concat(n,"@").concat(e)},b=function(t){return{id:t.id,fornavn:t.fornavn,etternavn:t.etternavn,fodselsdato:t.fodselsdato,tiltak:t.tiltak}},k=function(t){for(var e=[],n=0;n<t;n++){var a=c.a.random.objectElement(l.a),r=c.a.name.firstName(),i=c.a.name.lastName(),b=c.a.name.firstName()+" "+c.a.name.lastName(),k={id:o(1e3,1e6).toString(),fornavn:r,etternavn:i,fodselsdato:u().substring(0,6),tiltak:{id:o(1e3,1e6).toString(),status:a,type:c.a.random.objectElement(l.b),startdato:d(a),sluttdato:void 0,navn:"Noe tekst"},kontaktinfo:{email:j("".concat(r," ").concat(i),"example.com"),telefonnummer:c.a.phone.phoneNumber()},navEnhet:c.a.random.arrayElement(s),navVeileder:{navn:b,email:j(b,"nav.no"),telefonnummer:c.a.phone.phoneNumber()}};e.push(k)}return e}(55),f=[a.c.post("/amt-tiltak/api/bruker/sok",(function(t,e,n){var a=t.body,r=k.map(b);return e(n.delay(500),n.json(function(t,e){return t.filter((function(t){var n=e.filter,a=n.navnFnrSok,r=n.tiltakStatuser,i=n.tiltakTyper;if(null===a||void 0===a?void 0:a.trim()){var c=t.fornavn.toLowerCase().includes(a||""),l=t.etternavn.toLowerCase().includes(a||"");if(!c&&!l)return!1}return!(r.length>0&&!r.includes(t.tiltak.status))&&!(i.length>0&&!i.includes(t.tiltak.type))}))}(r,a)))})),a.c.get("/amt-tiltak/api/bruker/:brukerId",(function(t,e,n){var a=t.params.brukerId,r=k.find((function(t){return t.id===a}));return e(n.delay(500),n.json(r))})),a.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/startdato",(function(t,e,n){var a=t.body,r=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===r}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(r));return i.tiltak.startdato=a.startdato,e(n.delay(500),n.json(i.tiltak))})),a.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/sluttdato",(function(t,e,n){var a=t.body,r=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===r}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(r));return i.tiltak.sluttdato=a.sluttdato,e(n.delay(500),n.json(i.tiltak))}))];r.a.apply(void 0,f).start({serviceWorker:{url:"/amt-tiltaksarrangor-flate/mockServiceWorker.js"}}).catch((function(t){console.error("Unable to setup mocked API endpoints",t)}))},18:function(t,e,n){"use strict";var a,r;n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r})),function(t){t.JOBBSOKERKURS="JOBBSOKERKURS",t.AVKLARING="AVKLARING",t.GRUPPE_AMO="GRUPPE_AMO",t.OPPFOLGING="OPPFOLGING"}(a||(a={})),function(t){t.NY_BRUKER="NY_BRUKER",t.PAMELDT="PAMELDT",t.GJENNOMFORES="GJENNOMFORES"}(r||(r={}))},37:function(t,e,n){t.exports={clearfix:"clearfix__22-Vn","center-block":"center-block__3zBVx","pull-right":"pull-right__3dBfX","pull-left":"pull-left__3TiMS",hide:"hide__2BxQd",show:"show__3nqH6",hidden:"hidden__1sOfC",invisible:"invisible___hv42","text-hide":"text-hide__1A9A7",ustilet:"ustilet__1CfZ2",blokk:"blokk__34Ht9","blokk-null":"blokk-null__NLWPq","blokk-xxxs":"blokk-xxxs__2Rtpz","blokk-xxs":"blokk-xxs__ksi0b","blokk-xs":"blokk-xs__1DKf_","blokk-s":"blokk-s__2GJcB","blokk-m":"blokk-m__33_64","blokk-l":"blokk-l__2WayK","blokk-xl":"blokk-xl__2t4EJ",textBold:"textBold__1z3bS",userInfoContent:"userInfoContent__3seU_",periodeInputWrapper:"periodeInputWrapper__OBmB3",periodeKnapp:"periodeKnapp__1ZNMi"}},60:function(t,e,n){t.exports={paginationBar:"paginationBar__2LzFU",paginering:"paginering__2_g5a"}},63:function(t,e,n){t.exports={userInfoPage:"userInfoPage__QuV1h",tilbakeLenke:"tilbakeLenke__jsvK3"}},94:function(t,e,n){t.exports={personIcon:"personIcon__1QXL1"}},96:function(t,e,n){t.exports={ingenBrukere:"ingenBrukere__2tz2F"}},98:function(t,e,n){t.exports={header:"header__GxQus"}},99:function(t,e,n){t.exports={tiltaksoversiktPage:"tiltaksoversiktPage__gcUSe"}}},[[1697,1,2]]]);
//# sourceMappingURL=main.8300d6cb.chunk.js.map