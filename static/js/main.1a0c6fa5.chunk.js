(this["webpackJsonpamt-tiltaksarrangor-flate"]=this["webpackJsonpamt-tiltaksarrangor-flate"]||[]).push([[0],{100:function(t,e,n){t.exports={tiltaksoversiktPage:"tiltaksoversiktPage__25sfw"}},106:function(t,e,n){},1689:function(t,e,n){"use strict";n.r(e);n(105),n(106);var r=n(28),a=n.n(r),i=n(0),c=n.n(i),l=n(91),o=n.n(l),s=n(8),u=n(38),d=n(13),b=n(11),j=n.n(b),k=n(25),f=n(92),h=n.n(f).a.create({withCredentials:!0,headers:{"Nav-Consumer-Id":"amt-tiltaksarrangor-flate"}});var O,x=n(32),p=n.n(x),m=n(93),g=n.n(m),S=n(94),_=n.n(S),v=n(1),N=function(){return Object(v.jsx)("div",{className:_.a.spinner,children:Object(v.jsx)(g.a,{type:"XL"})})},T=n(57),E=n.n(T),A=n(34),I=n(14),C=n(10),F=function(t,e){return"".concat(e,", ").concat(t)},y=function(t,e){return"".concat(t," ").concat(e)},L=function(t){return a()(t).format("DD. MMM YYYY")},D=function(t){return t?a()(t).format("YYYY-MM-DD"):""},K=function(t){return a()(t,"YYYY-MM-DD").toDate()},M=n(18),P=function(t){switch(t){case M.a.GJENNOMFORES:return"Gjennomf\xf8res";case M.a.NY_BRUKER:return"Ny Bruker";case M.a.PAMELDT:return"P\xe5meldt";default:return t}},G=function(t){switch(t){case M.b.AVKLARING:return"Avklaring";case M.b.GRUPPE_AMO:return"Gruppe AMO";case M.b.JOBBSOKERKURS:return"Jobbs\xf8kerkurs";case M.b.OPPFOLGING:return"Oppf\xf8lging";default:return t}},R=n(37),w=n.n(R),B=function(t){var e=t.tittel,n=t.children;return Object(v.jsxs)("div",{children:[Object(v.jsx)(C.Ingress,{className:w.a.textBold,children:e}),n]})},U=function(t){var e=t.bruker,n=e.tiltak,r=e.navEnhet,a=e.navVeileder,c=e.kontaktinfo,l=e.fornavn,o=e.etternavn,u=Object(i.useState)(D(n.startdato)),d=Object(s.a)(u,2),b=d[0],j=d[1],k=Object(i.useState)(D(n.sluttdato)),f=Object(s.a)(k,2),O=f[0],x=f[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(C.Sidetittel,{className:p.a.blokkM,children:y(l,o)}),Object(v.jsxs)("div",{className:w.a.userInfoContent,children:[Object(v.jsxs)(B,{tittel:"Kontaktinformasjon",children:[Object(v.jsxs)(C.Normaltekst,{children:["Telefon: ",c.telefonnummer]}),Object(v.jsxs)(C.Normaltekst,{children:["Email: ",c.email]})]}),Object(v.jsx)(B,{tittel:"Status",children:Object(v.jsx)(C.Normaltekst,{children:P(n.status)})}),Object(v.jsxs)(B,{tittel:"Periode for gjennomf\xf8ring",children:[Object(v.jsxs)("div",{className:w.a.periodeInputWrapper,children:[Object(v.jsx)(I.Input,{label:"Start",type:"date",value:b,onChange:function(t){return j(t.target.value)}}),Object(v.jsx)(A.Knapp,{className:w.a.periodeKnapp,onClick:function(){b&&function(t,e){var n={startdato:e.toISOString()};h.put("/amt-tiltak/api/tiltak/".concat(t,"/startdato"),n)}(n.id,K(b))},disabled:!b,children:"Lagre"})]}),Object(v.jsxs)("div",{className:w.a.periodeInputWrapper,children:[Object(v.jsx)(I.Input,{label:"Slutt",type:"date",value:O,onChange:function(t){return x(t.target.value)}}),Object(v.jsx)(A.Knapp,{className:w.a.periodeKnapp,onClick:function(){O&&function(t,e){var n={sluttdato:e.toISOString()};h.put("/amt-tiltak/api/tiltak/".concat(t,"/sluttdato"),n)}(n.id,K(O))},disabled:!O,children:"Lagre"})]})]}),Object(v.jsx)(B,{tittel:"NAV-kontor",children:Object(v.jsx)(C.Normaltekst,{children:r.enhetNavn})}),Object(v.jsxs)(B,{tittel:"Veileder",children:[Object(v.jsxs)(C.Normaltekst,{children:["Navn: ",null===a||void 0===a?void 0:a.navn]}),Object(v.jsxs)(C.Normaltekst,{children:["Email: ",null===a||void 0===a?void 0:a.email]}),Object(v.jsxs)(C.Normaltekst,{children:["Telefonnummer: ",null===a||void 0===a?void 0:a.telefonnummer]})]}),Object(v.jsx)(B,{tittel:"Tiltak",children:Object(v.jsxs)(C.Normaltekst,{children:["Type: ",G(n.type)]})}),Object(v.jsx)(B,{tittel:"Beskrivelse"})]})]})},Y=function(){var t=Object(d.f)().brukerId,e=Object(i.useState)(),n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(i.useState)(!1),l=Object(s.a)(c,2),o=l[0],b=l[1];return Object(i.useEffect)((function(){(function(t){return h.get("/amt-tiltak/api/bruker/".concat(t))})(t).then((function(t){return a(t.data)})).catch((function(){return b(!0)}))}),[t]),Object(v.jsxs)("main",{className:E.a.userInfoPage,children:[Object(v.jsx)(u.b,{to:"/",className:j()(E.a.tilbakeLenke,p.a.blokkM),children:"Tilbake"}),r?Object(v.jsx)(U,{bruker:r}):o?Object(v.jsx)(k.AlertStripeFeil,{children:"En feil oppstod"}):Object(v.jsx)(N,{})]})},V=n(29),J=n(96),z=Object(J.a)((function(){var t=Object(i.useState)(""),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)([]),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(i.useState)([]),d=Object(s.a)(u,2),b=d[0],j=d[1],k=Object(i.useState)(),f=Object(s.a)(k,2);return{navnFnrSok:n,setNavnFnrSok:r,tiltakTypeFilter:l,leggTilTiltakFilter:function(t){o((function(e){return e.includes(t)?e:[].concat(Object(V.a)(e),[t])}))},fjernFraTiltakFilter:function(t){o((function(e){return e.filter((function(e){return e!==t}))}))},tiltakStatusFilter:b,leggTilTiltakStatus:function(t){j((function(e){return e.includes(t)?e:[].concat(Object(V.a)(e),[t])}))},fjernFraTiltakStatus:function(t){j((function(e){return e.filter((function(e){return e!==t}))}))},brukerSortering:f[0],setBrukerSortering:f[1]}})),W=Object(s.a)(z,2),Q=W[0],X=W[1],Z=function(t){return t.if?t.children:null},H=n(97),q=n.n(H),$=n(1692),tt=n(98),et=n.n(tt);!function(t){t.NAVN="NAVN",t.FODSELSDATO="FODSELSDATO",t.TILTAKSTYPE="TILTAKSTYPE",t.TILTAK="TILTAK",t.STATUS="STATUS",t.START="START",t.SLUTT="SLUTT"}(O||(O={}));var nt,rt=function(t,e){if(e&&t===e.kolonnenavn)return"tabell__td--sortert"},at=function(t){var e=t.bruker,n=e.fodselsdato,r=e.fornavn,a=e.etternavn,i=e.tiltak,c=e.id,l=t.brukerSortering;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:rt(O.NAVN,l),children:F(r,a)}),Object(v.jsx)("td",{className:rt(O.FODSELSDATO,l),children:n}),Object(v.jsx)("td",{className:rt(O.TILTAKSTYPE,l),children:G(i.type)}),Object(v.jsx)("td",{className:rt(O.TILTAK,l),children:i.navn}),Object(v.jsx)("td",{className:rt(O.STATUS,l),children:P(i.status)}),Object(v.jsx)("td",{className:rt(O.START,l),children:i.startdato&&L(i.startdato)}),Object(v.jsx)("td",{className:rt(O.SLUTT,l),children:i.sluttdato&&L(i.sluttdato)}),Object(v.jsx)("td",{children:Object(v.jsx)(u.b,{to:"/user/".concat(c),children:Object(v.jsx)($.a,{className:et.a.personIcon})})})]})},it=function(t){return Object(v.jsx)("tbody",{children:t.brukere.map((function(e,n){return Object(v.jsx)(at,{idx:n,bruker:e,brukerSortering:t.sortering},n)}))})};!function(t){t.ASCENDING="ascending",t.DESCENDING="descending",t.NONE="none"}(nt||(nt={}));var ct=function(t){switch(t){case nt.ASCENDING:return"tabell__th--sortert-asc";case nt.DESCENDING:return"tabell__th--sortert-desc";default:return""}},lt=function(t){var e=t.title,n=t.name,r=t.sortering,a=t.onSortChange,i=n===(null===r||void 0===r?void 0:r.kolonnenavn)?r.sorteringType:nt.NONE,c=function(t){switch(t){case nt.ASCENDING:return nt.DESCENDING;case nt.DESCENDING:return nt.NONE;default:return nt.ASCENDING}}(i),l="Sorter ".concat(e," ").concat(function(t){switch(t){case nt.ASCENDING:return"stigende";case nt.DESCENDING:return"synkende";default:return""}}(c));return Object(v.jsx)("th",{role:"columnheader",className:ct(i),"aria-sort":i,children:Object(v.jsx)("button",{"aria-label":l,onClick:function(){return a({sorteringType:c,kolonnenavn:n})},children:e})})},ot=function(t){var e=t.sortering,n=t.onSortChange;return Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Etternavn, Fornavn",name:O.NAVN}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"F\xf8dselsdato",name:O.FODSELSDATO}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Tiltakstype",name:O.TILTAKSTYPE}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Tiltak",name:O.TILTAK}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Status",name:O.STATUS}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Start",name:O.START}),Object(v.jsx)(lt,{sortering:e,onSortChange:n,title:"Slutt",name:O.SLUTT}),Object(v.jsx)("th",{})]})})},st=(n(190),function(t){var e=X(),n=e.brukerSortering,r=e.setBrukerSortering,a=e.tiltakTypeFilter,c=e.tiltakStatusFilter,l=e.navnFnrSok,o=function(){return e=t.brukere,n=a,r=c,i=l,e.filter((function(t){return function(t,e){if(!e||0===e.trim().length)return!0;var n=t.fornavn.toLowerCase().includes(e.toLowerCase()),r=t.etternavn.toLowerCase().includes(e.toLowerCase());return n||r}(t,i)})).filter((function(t){return function(t,e){return 0===t.length||t.includes(e)}(n,t.tiltak.type)})).filter((function(t){return function(t,e){return 0===t.length||t.includes(e)}(r,t.tiltak.status)}));var e,n,r,i},u=Object(i.useState)(o),d=Object(s.a)(u,2),b=d[0],j=d[1],f=0===b.length;Object(i.useEffect)((function(){j(o())}),[t.brukere,a,c,l]);var h=function(){return Object(v.jsx)(k.AlertStripeInfo,{className:q.a.ingenBrukere,children:Object(v.jsx)("span",{role:"alert","aria-live":"polite",children:"Fant ingen brukere"})})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("table",{className:"tabell tabell--stripet",children:[Object(v.jsx)(ot,{sortering:n,onSortChange:function(t){return r(t)}}),Object(v.jsx)(Z,{if:!t.isLoading&&!f,children:Object(v.jsx)(it,{brukere:b,sortering:n})})]}),Object(v.jsx)(Z,{if:!t.isLoading&&f,children:Object(v.jsx)(h,{})}),Object(v.jsx)(Z,{if:t.isLoading,children:Object(v.jsx)(N,{})})]})}),ut=n(60),dt=n.n(ut),bt=function(){var t=X(),e=t.navnFnrSok,n=t.setNavnFnrSok,r=t.tiltakStatusFilter,a=t.leggTilTiltakStatus,i=t.fjernFraTiltakStatus,c=t.tiltakTypeFilter,l=t.leggTilTiltakFilter,o=t.fjernFraTiltakFilter;return Object(v.jsxs)("div",{children:[Object(v.jsx)(I.Input,{placeholder:"S\xf8k etter navn eller fnr",className:p.a.blokkM,value:e,onChange:function(t){return n(t.target.value)}}),Object(v.jsx)(dt.a,{tittel:"Tiltakstype",className:p.a.blokkM,apen:!0,children:Object(v.jsx)(I.CheckboxGruppe,{children:Object.values(M.b).map((function(t){return Object(v.jsx)(I.Checkbox,{label:G(t),name:"filter-tiltakstype",checked:c.includes(t),onChange:function(e){e.target.checked?l(t):o(t)}},t)}))})}),Object(v.jsx)(dt.a,{tittel:"Status",className:p.a.blokkM,apen:!0,children:Object(v.jsx)(I.CheckboxGruppe,{children:Object.values(M.a).map((function(t){return Object(v.jsx)(I.Checkbox,{label:P(t),name:"filter-tiltakstatus",checked:r.includes(t),onChange:function(e){e.target.checked?a(t):i(t)}},t)}))})})]})},jt=n(99),kt=n.n(jt),ft=function(){return Object(v.jsx)("header",{className:kt.a.header,children:Object(v.jsx)(C.Sidetittel,{children:"Tiltaksoversikt"})})},ht=n(100),Ot=n.n(ht),xt=function(){var t=X(),e=t.tiltakTypeFilter,n=t.tiltakStatusFilter,r=t.navnFnrSok,a=t.brukerSortering,c=Object(i.useState)([]),l=Object(s.a)(c,2),o=l[0],u=l[1],d=Object(i.useState)(!1),b=Object(s.a)(d,2),j=b[0],k=b[1];return Object(i.useEffect)((function(){k(!0),h.get("/amt-tiltak/api/brukere").then((function(t){return u(t.data)})).catch(console.error).finally((function(){return k(!1)}))}),[e,n,r,a]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ft,{}),Object(v.jsxs)("main",{className:Ot.a.tiltaksoversiktPage,children:[Object(v.jsx)(bt,{}),Object(v.jsx)(st,{brukere:o,isLoading:j})]})]})},pt=function(t){return Object(v.jsx)(Q,{children:t.children})},mt=n(61),gt=n.n(mt),St=function(){var t=window.location.href,e="/auth-proxy/oauth2/login?redirect_uri=".concat(t);return Object(v.jsxs)("main",{className:gt.a.loginPage,children:[Object(v.jsx)(C.Systemtittel,{className:j()("blokk-xl",gt.a.title),children:"Hei koordinator hos tiltaksarrang\xf8r!"}),Object(v.jsx)(k.AlertStripeAdvarsel,{className:"blokk-xl",children:"Dette er en f\xf8rste l\xf8sning til pilot. Kun de som har avtalt med Team KOMET og har riktig innstilling gjennom Altinn vil kunne f\xe5 tilgang til tjenesten."}),Object(v.jsx)("a",{className:"knapp knapp--hoved",href:e,children:"Logg inn"})]})},_t=function(){var t=Object(i.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)(!0),c=Object(s.a)(a,2),l=c[0],o=c[1];return Object(i.useEffect)((function(){h.get("/auth-proxy/is-authenticated").then((function(t){return r(t.data.isAuthenticated)})).catch((function(){return r(!1)})).finally((function(){return o(!1)}))}),[]),l?Object(v.jsx)(N,{}):n?Object(v.jsx)(pt,{children:Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{path:"/user/:brukerId",children:Object(v.jsx)(Y,{})}),Object(v.jsx)(d.a,{path:"/",children:Object(v.jsx)(xt,{})})]})})}):Object(v.jsx)(St,{})},vt=n(24),Nt=n(27),Tt=new(function(){function t(){Object(vt.a)(this,t)}return Object(Nt.a)(t,[{key:"isProduction",get:function(){return!this.isDevelopment}},{key:"isDevelopment",get:function(){return!0}}]),t}());a.a.locale("nb"),Tt.isDevelopment&&n(1690),o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(_t,{})}),document.getElementById("root"))},1690:function(t,e,n){"use strict";n.r(e);var r=n(26),a=n(101),i=n(19),c=n.n(i),l=n(18);c.a.locale="nb_NO",c.a.seed(486756783);var o=[{enhetId:"0219",enhetNavn:"NAV B\xe6rum"},{enhetId:"0425",enhetNavn:"NAV \xc5snes"},{enhetId:"1500",enhetNavn:"NAV M\xf8re og Romsdal"},{enhetId:"0104",enhetNavn:"NAV Moss"}],s=function(t,e){return c.a.datatype.number({min:t,max:e})},u=function(){var t=s(1,31),e=s(1,12),n=s(0,99),r=s(0,99).toString().padStart(2,"0"),a=c.a.datatype.boolean()?4:1,i="".concat(r).concat(a),l="".concat(s(0,9)).concat(s(0,9));return"".concat(t.toString().padStart(2,"0")).concat(e.toString().padStart(2,"0")).concat(n.toString().padStart(2,"0")).concat(i).concat(l)},d=function(t){if(t===l.a.PAMELDT||t===l.a.GJENNOMFORES)return c.a.date.recent().toISOString()},b=function(t,e){var n=t.replaceAll(" ",".").replaceAll("\xe6","ae").replaceAll("\xf8","o").replaceAll("\xe5","a").toLowerCase();return"".concat(n,"@").concat(e)},j=function(t){return{id:t.id,fornavn:t.fornavn,etternavn:t.etternavn,fodselsdato:t.fodselsdato,tiltak:t.tiltak}},k=function(t){for(var e=[],n=0;n<t;n++){var r=c.a.random.objectElement(l.a),a=c.a.name.firstName(),i=c.a.name.lastName(),j=c.a.name.firstName()+" "+c.a.name.lastName(),k={id:s(1e3,1e6).toString(),fornavn:a,etternavn:i,fodselsdato:u().substring(0,6),tiltak:{id:s(1e3,1e6).toString(),status:r,type:c.a.random.objectElement(l.b),startdato:d(r),sluttdato:void 0,navn:"Noe tekst"},kontaktinfo:{email:b("".concat(a," ").concat(i),"example.com"),telefonnummer:c.a.phone.phoneNumber()},navEnhet:c.a.random.arrayElement(o),navVeileder:{navn:j,email:b(j,"nav.no"),telefonnummer:c.a.phone.phoneNumber()}};e.push(k)}return e}(55),f=[r.c.get("/auth-proxy/is-authenticated",(function(t,e,n){return e(n.delay(500),n.json({isAuthenticated:!0}))})),r.c.get("/amt-tiltak/api/brukere",(function(t,e,n){var r=k.map(j);return e(n.delay(500),n.json(r))})),r.c.get("/amt-tiltak/api/bruker/:brukerId",(function(t,e,n){var r=t.params.brukerId,a=k.find((function(t){return t.id===r}));return e(n.delay(500),n.json(a))})),r.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/startdato",(function(t,e,n){var r=t.body,a=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===a}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(a));return i.tiltak.startdato=r.startdato,e(n.delay(500),n.json(i.tiltak))})),r.c.put("/amt-tiltak/api/tiltak/:tiltakinstansId/sluttdato",(function(t,e,n){var r=t.body,a=t.params.tiltakinstansId,i=k.find((function(t){return t.tiltak.id===a}));if(!i)throw new Error("Fant ingen tiltak med id: ".concat(a));return i.tiltak.sluttdato=r.sluttdato,e(n.delay(500),n.json(i.tiltak))}))];a.a.apply(void 0,f).start({serviceWorker:{url:"/amt-tiltaksarrangor-flate/mockServiceWorker.js"}}).catch((function(t){console.error("Unable to setup mocked API endpoints",t)}))},18:function(t,e,n){"use strict";var r,a;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),function(t){t.JOBBSOKERKURS="JOBBSOKERKURS",t.AVKLARING="AVKLARING",t.GRUPPE_AMO="GRUPPE_AMO",t.OPPFOLGING="OPPFOLGING"}(r||(r={})),function(t){t.NY_BRUKER="NY_BRUKER",t.PAMELDT="PAMELDT",t.GJENNOMFORES="GJENNOMFORES"}(a||(a={}))},32:function(t,e,n){t.exports={clearfix:"clearfix__3UCmH","center-block":"center-block__qRhQr","pull-right":"pull-right__uoRiB","pull-left":"pull-left__3Sk0z",hide:"hide__3yk1z",show:"show__25QKn",hidden:"hidden__1vXM7",invisible:"invisible__1E0VC","text-hide":"text-hide__159n6",ustilet:"ustilet__M_vEf",blokk:"blokk__1sum3","blokk-null":"blokk-null__1kE01","blokk-xxxs":"blokk-xxxs__zdZmh","blokk-xxs":"blokk-xxs__3wMg6","blokk-xs":"blokk-xs__PjJ8i","blokk-s":"blokk-s__3mZX8","blokk-m":"blokk-m__1ll-c","blokk-l":"blokk-l__3QslZ","blokk-xl":"blokk-xl__3pfFf",blokkM:"blokkM__C-cKc"}},37:function(t,e,n){t.exports={clearfix:"clearfix__gNfUK","center-block":"center-block__29b77","pull-right":"pull-right__1_ahA","pull-left":"pull-left__1Jt2h",hide:"hide__3_Fyb",show:"show__uq-yK",hidden:"hidden__3C43V",invisible:"invisible__3Mk-s","text-hide":"text-hide__2TFPd",ustilet:"ustilet__3onBT",blokk:"blokk__cRVpl","blokk-null":"blokk-null__y5Xlc","blokk-xxxs":"blokk-xxxs__2duqe","blokk-xxs":"blokk-xxs__3xWzh","blokk-xs":"blokk-xs__1xorx","blokk-s":"blokk-s__1E4oK","blokk-m":"blokk-m__31Vvh","blokk-l":"blokk-l__I6QuF","blokk-xl":"blokk-xl__1AMaw",textBold:"textBold__3aBKa",userInfoContent:"userInfoContent__3Csxl",periodeInputWrapper:"periodeInputWrapper__3DpCu",periodeKnapp:"periodeKnapp__1wsHg"}},57:function(t,e,n){t.exports={userInfoPage:"userInfoPage__NknKL",tilbakeLenke:"tilbakeLenke__3zCLu"}},61:function(t,e,n){t.exports={loginPage:"loginPage__28CzY",title:"title__3MnEd"}},94:function(t,e,n){t.exports={spinner:"spinner__3ZKPX"}},97:function(t,e,n){t.exports={ingenBrukere:"ingenBrukere__5QNAx"}},98:function(t,e,n){t.exports={personIcon:"personIcon__1Ez3d"}},99:function(t,e,n){t.exports={header:"header__jJHUZ"}}},[[1689,1,2]]]);
//# sourceMappingURL=main.1a0c6fa5.chunk.js.map